import{f as N,r as u,j as e,a as y,e as f,z as g,V as h,G as b}from"./index-BAzBCm5Y.js";import{S as k}from"./shuffle-B8BdmKt_.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],L=N("calendar",C);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],w=N("pen-line",P),A=["JavaScript","TypeScript","Python","Java","C","C++","C#","Go","Rust","Ruby","PHP","Kotlin","Swift","Dart","R","React","Next.js","Vue.js","Nuxt.js","Angular","Svelte","jQuery","Tailwind CSS","Bootstrap","Material UI","SASS","LESS","Node.js","Express","Django","Flask","Spring Boot","Laravel","FastAPI",".NET","NestJS","Ruby on Rails","AdonisJS","React Native","Flutter","Ionic","SwiftUI","Jetpack Compose","MongoDB","MySQL","PostgreSQL","SQLite","Redis","Firebase","Oracle","Microsoft SQL Server","CouchDB","Docker","Kubernetes","Jenkins","GitLab CI/CD","GitHub Actions","AWS","Azure","Google Cloud","Terraform","Ansible","Vercel","Netlify","Heroku","Nginx","Figma","Adobe XD","Adobe Photoshop","Adobe Illustrator","Canva","Sketch","InVision","CorelDRAW","Git","GitHub","GitLab","Bitbucket","VS Code","Postman","Swagger","Notion","Jira","Trello","Slack","Zoom","Jest","Mocha","Cypress","Playwright","Selenium","WordPress","Shopify","Magento","WooCommerce","Blender","Unity","Unreal Engine"],M=({selectedSkills:l,onAddSkill:m,onClose:p})=>{const[c,s]=u.useState(""),i=A.filter(t=>t.toLowerCase().includes(c.toLowerCase())&&!l.includes(t));return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center z-50",children:e.jsxs("div",{className:"bg-base-100 p-6 rounded-xl w-full max-w-md space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Add Skills"}),e.jsx("input",{type:"text",className:"input input-bordered w-full",placeholder:"Search skills...",value:c,onChange:t=>s(t.target.value)}),e.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-2",children:[i.map(t=>e.jsx("div",{className:"p-2 border rounded-md cursor-pointer hover:bg-base-200",onClick:()=>m(t),children:t},t)),i.length===0&&e.jsx("p",{className:"text-sm opacity-60",children:"No skills found"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:p,className:"btn btn-sm btn-ghost",children:"Close"})})]})})},E=()=>{const{authUser:l,isLoading:m}=y(),[p,c]=u.useState(!1),[s,i]=u.useState({fullName:"",email:"",bio:"",nativeLanguage:"",learningLanguage:"",location:"",dateOfBirth:"",skills:[],profilePic:""});u.useEffect(()=>{var a;l&&i({fullName:l.fullName||"",email:l.email||"",bio:l.bio||"",nativeLanguage:l.nativeLanguage||"",learningLanguage:l.learningLanguage||"",location:l.location||"",dateOfBirth:((a=l.dateOfBirth)==null?void 0:a.split("T")[0])||"",skills:l.skills||[],profilePic:l.profilePic||""})},[l]);const{mutate:t,isPending:x}=f({mutationFn:b,onSuccess:()=>h.success("Profile updated successfully"),onError:()=>h.error("Failed to update profile")}),{mutate:j}=f({mutationFn:a=>b({skills:a})}),r=a=>{const{name:n,value:o}=a.target;i(d=>({...d,[n]:o}))},v=a=>{a.preventDefault(),t(s)},S=()=>{const n=`https://avatar.iran.liara.run/public/${Math.floor(Math.random()*100)+1}.png`;i(o=>({...o,profilePic:n})),h.success("Random profile picture generated!")};return m?e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx("span",{className:"loading loading-spinner loading-lg"})}):e.jsx("div",{className:"min-h-screen overflow-y-auto px-4 sm:px-6 lg:px-8 py-10 flex justify-center",children:e.jsxs("div",{className:"w-full max-w-4xl space-y-6",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold flex items-center gap-2",children:[e.jsx(w,{className:"size-6"}),"Edit Profile"]}),e.jsxs("div",{className:"flex justify-center relative",children:[e.jsx("div",{className:"size-32 rounded-full overflow-hidden bg-base-300",children:s.profilePic?e.jsx("img",{src:s.profilePic,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full text-sm opacity-60",children:"No Picture"})}),e.jsxs("button",{onClick:S,className:"btn btn-xs btn-accent absolute bottom-0 right-0",children:[e.jsx(k,{className:"size-3 mr-1"}),"Generate"]})]}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:"Full Name"}),e.jsx("input",{type:"text",className:"input input-bordered",name:"fullName",value:s.fullName,onChange:r})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:"Email"}),e.jsx("input",{type:"email",className:"input input-bordered",name:"email",value:s.email,onChange:r,disabled:!0})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:"Native Language"}),e.jsxs("select",{name:"nativeLanguage",className:"select select-bordered",value:s.nativeLanguage,onChange:r,children:[e.jsx("option",{value:"",children:"Select Native Language"}),g.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:"Opponent Language"}),e.jsxs("select",{name:"learningLanguage",className:"select select-bordered",value:s.learningLanguage,onChange:r,children:[e.jsx("option",{value:"",children:"Select Opponent Language"}),g.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:"Location"}),e.jsx("input",{type:"text",className:"input input-bordered",name:"location",value:s.location,onChange:r})]}),e.jsxs("div",{className:"form-control",children:[e.jsxs("label",{className:"label flex items-center gap-2",children:[e.jsx(L,{className:"size-4"}),"Date of Birth"]}),e.jsx("input",{type:"date",className:"input input-bordered",name:"dateOfBirth",value:s.dateOfBirth,onChange:r})]})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:"Bio"}),e.jsx("textarea",{name:"bio",className:"textarea textarea-bordered",value:s.bio,onChange:r,rows:3})]}),e.jsxs("div",{className:"form-control space-y-2",children:[e.jsx("label",{className:"label",children:"Skills"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.skills.map((a,n)=>e.jsx("span",{className:"badge badge-outline hover:line-through cursor-pointer",onClick:()=>{const o=s.skills.filter(d=>d!==a);i(d=>({...d,skills:o})),j(o)},children:a},n)),e.jsx("button",{type:"button",onClick:()=>c(!0),className:"btn btn-sm btn-outline",children:"+ Add Skill"})]})]}),p&&e.jsx(M,{selectedSkills:s.skills,onAddSkill:a=>{const n=[...new Set([...s.skills,a])];i(o=>({...o,skills:n})),t({...s,skills:n}),c(!1)},onClose:()=>c(!1)}),e.jsx("button",{type:"submit",className:"btn btn-primary w-full sm:w-auto",disabled:x,children:x?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-xs mr-2"}),"Updating..."]}):"Update Profile"})]})]})})};export{E as default};
