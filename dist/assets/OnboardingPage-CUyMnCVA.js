import{a as x,c as g,r as p,e as b,j as e,z as i,S as f,x as h,V as t,A as j}from"./index-BAzBCm5Y.js";import{S as N}from"./shuffle-B8BdmKt_.js";import{M as v}from"./map-pin-Bq9Nic8B.js";const S=()=>{const{authUser:l}=x(),c=g(),[s,n]=p.useState({fullName:(l==null?void 0:l.fullName)||"",bio:(l==null?void 0:l.bio)||"",nativeLanguage:(l==null?void 0:l.nativeLanguage)||"",learningLanguage:(l==null?void 0:l.learningLanguage)||"",location:(l==null?void 0:l.location)||"",profilePic:(l==null?void 0:l.profilePic)||""}),{mutate:o,isPending:r}=b({mutationFn:j,onSuccess:()=>{t.success("Profile onboarded successfully"),c.invalidateQueries({queryKey:["authUser"]})},onError:a=>{t.error(a.response.data.message)}}),m=a=>{a.preventDefault(),o(s)},d=()=>{const u=`https://avatar.iran.liara.run/public/${Math.floor(Math.random()*100)+1}.png`;n({...s,profilePic:u}),t.success("Random profile picture generated!")};return e.jsx("div",{className:"min-h-screen bg-base-100 flex items-center justify-center p-4",children:e.jsx("div",{className:"card bg-base-200 w-full max-w-3xl shadow-xl",children:e.jsxs("div",{className:"card-body p-6 sm:p-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-center mb-6",children:"Complete Your Profile"}),e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[e.jsx("div",{className:"size-32 rounded-full bg-base-300 overflow-hidden",children:s.profilePic?e.jsx("img",{src:s.profilePic,alt:"Profile Preview",className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(CameraIcon,{className:"size-12 text-base-content opacity-40"})})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{type:"button",onClick:d,className:"btn btn-accent",children:[e.jsx(N,{className:"size-4 mr-2"}),"Generate Random Avatar"]})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Full Name"})}),e.jsx("input",{type:"text",name:"fullName",value:s.fullName,onChange:a=>n({...s,fullName:a.target.value}),className:"input input-bordered w-full",placeholder:"Your full name"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Bio"})}),e.jsx("textarea",{name:"bio",value:s.bio,onChange:a=>n({...s,bio:a.target.value}),className:"textarea textarea-bordered h-24",placeholder:"Tell others about yourself and your language learning goals"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Native Language"})}),e.jsxs("select",{name:"nativeLanguage",value:s.nativeLanguage,onChange:a=>n({...s,nativeLanguage:a.target.value}),className:"select select-bordered w-full",children:[e.jsx("option",{value:"",children:"Select your native language"}),i.map(a=>e.jsx("option",{value:a.toLowerCase(),children:a},`native-${a}`))]})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Suggest Opponent Language"})}),e.jsxs("select",{name:"learningLanguage",value:s.learningLanguage,onChange:a=>n({...s,learningLanguage:a.target.value}),className:"select select-bordered w-full",children:[e.jsx("option",{value:"",children:"Select language you're learning"}),i.map(a=>e.jsx("option",{value:a.toLowerCase(),children:a},`learning-${a}`))]})]})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Location"})}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute top-1/2 transform -translate-y-1/2 left-3 size-5 text-base-content opacity-70"}),e.jsx("input",{type:"text",name:"location",value:s.location,onChange:a=>n({...s,location:a.target.value}),className:"input input-bordered w-full pl-10",placeholder:"City, Country"})]})]}),e.jsx("button",{className:"btn btn-primary w-full",disabled:r,type:"submit",children:r?e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"animate-spin size-5 mr-2"}),"Onboarding..."]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"size-5 mr-2"}),"Complete Onboarding"]})})]})]})})})};export{S as default};
